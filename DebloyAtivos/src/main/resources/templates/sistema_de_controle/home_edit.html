<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://thymeleaf.org/">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <title>Editar Home</title>
</head>

<body>
    <div th:insert="~{fragmentos/header_adm.html :: header}"></div>

    <div class="toast-container position-fixed bottom-0 end-0 p-3" id="error-message" th:if="${param.error}">
        <div class="align-items-center text-bg-danger p-3 badge border-0 shadow" role="alert" aria-live="assertive"
            aria-atomic="true">
            <div class="toast-header">
                <i class="bi bi-bug-fill"></i>
                <strong class="me-auto ms-2">Aviso</strong>
                <small>Agora</small>
            </div>
            <div class="toast-body mt-3">
                <p th:text="${param.error}">Erro ao editar o ativo</p>
                <span th:text="${error}"></span>
            </div>
        </div>
    </div>
    <div class="toast-container position-fixed top-0 end-0 p-3 opacity-100" id="success-message"
        th:if="${param.success}">
        <div class="align-items-center text-bg-success p-3 badge border-0 shadow" role="alert" aria-live="assertive"
            aria-atomic="true">
            <div class="toast-header">
                <i class="bi bi-exclamation-square-fill"></i>
                <strong class="me-auto ms-2">Aviso</strong>
                <small>Agora</small>
            </div>
            <div class="toast-body mt-3">
                <p th:text="${param.success}">Ativo editado com sucesso</p>
                <span th:text="${success}"></span>
            </div>
        </div>
    </div>

    <div class="container mt-3">

        <div class="card mb-3" style="max-width: 100%">
            <div class="row g-0">
                <div class="col-md-6">
                    <img th:src="${home.img01Carrossel}" alt="Imagem 01" class="img-fluid rounded-start">
                </div>
                <div class="col-md-6">
                    <div class="card-body">
                        <h5 class="card-title">Imagem 01 Carrossel</h5>
                        <form th:action="@{/editarCarrossel/{id}(id=${home.id})}" method="post"
                            enctype="multipart/form-data">
                            <div>
                                <label for="img01" class="form-label">Escolher Nova Imagem</label>
                                <input class="form-control form-control-sm" id="img01" type="file" name="img01">
                            </div>
                            <button type="submit" class="btn btn-primary mt-2">Salvar</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="card mb-3" style="max-width: 100%">
            <div class="row g-0">
                <div class="col-md-6">
                    <img th:src="${home.img02Carrossel}" alt="Imagem 02" class="img-fluid rounded-start">
                </div>
                <div class="col-md-6">
                    <div class="card-body">
                        <h5 class="card-title">Imagem 02 Carrossel</h5>
                        <form th:action="@{/editarCarrossel/{id}(id=${home.id})}" method="post"
                            enctype="multipart/form-data">
                            <div>
                                <label for="img02" class="form-label">Escolher Nova Imagem</label>
                                <input class="form-control form-control-sm" id="img02" type="file" name="img02">
                            </div>
                            <button type="submit" class="btn btn-primary mt-2">Salvar</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="card mb-3" style="max-width: 100%">
            <div class="row g-0">
                <div class="col-md-6">
                    <img th:src="${home.img03Carrossel}" alt="Imagem 03" class="img-fluid rounded-start">
                </div>
                <div class="col-md-6">
                    <div class="card-body">
                        <h5 class="card-title">Imagem 03 Carrossel</h5>
                        <form th:action="@{/editarCarrossel/{id}(id=${home.id})}" method="post"
                            enctype="multipart/form-data">
                            <div>
                                <label for="img03" class="form-label">Escolher Nova Imagem</label>
                                <input class="form-control form-control-sm" id="img03" type="file" name="img03">
                            </div>
                            <button type="submit" class="btn btn-primary mt-2">Salvar</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div th:insert="~{fragmentos/footer.html :: footer}"></div>
    <div th:insert="~{fragmentos/footer.html :: script}"></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script>
        // Função para remover a mensagem após alguns segundos
        function removeMessage() {
            // Seletor dos elementos de mensagem de erro e sucesso
            var errorMessage = document.getElementById("error-message");
            var successMessage = document.getElementById("success-message");

            // Verifica se o elemento de mensagem de erro está presente e remove após 5 segundos
            if (errorMessage) {
                setTimeout(function () {
                    errorMessage.remove();
                }, 5000); // 5000 milissegundos = 5 segundos
            }

            // Verifica se o elemento de mensagem de sucesso está presente e remove após 5 segundos
            if (successMessage) {
                setTimeout(function () {
                    successMessage.remove();
                }, 5000); // 5000 milissegundos = 5 segundos
            }
        }

        // Chama a função para remover a mensagem quando a página é carregada
        window.onload = function () {
            removeMessage();
        };
    </script>
</body>

</html>